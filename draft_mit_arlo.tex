\documentclass[11pt,a5paper]{book}

% ---------- Packages ----------
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc} % omit if you use lualatex/xelatex
\usepackage[ngerman,english]{babel} % pick languages as needed
\usepackage[a5paper,top=3cm,bottom=1.5cm,left=1.5cm,right=1.5cm,headsep=1cm,headheight=14pt]{geometry} % increased top margin and head separation
\usepackage{xparse}
\usepackage{booktabs} % nicer tables (optional)
\usepackage{multirow}
\usepackage{graphicx}
\usepackage{xcolor}
\usepackage{colortbl} % enables \rowcolor
\usepackage{grffile}
\usepackage{wrapfig} % for text wrapping around figures
\usepackage{fancyhdr} % for headers and footers

% ---------- Macro definitions ----------
\input{old_macros.tex}

% ---------- \DogDataMinipage helper macro ----------
% \DogDataMinipage{Breeder}{DOB}{RegNr}{Sire}{Dam}
% Creates a minipage with dog data formatted consistently
\NewDocumentCommand{\DogDataMinipage}{ m m m m m }{%
  \def\breederlocal{#1} %
  \def\doblocal{#2} %
  \def\regnrlocal{#3} %
  \def\sirelocal{#4} %
  \def\damlocal{#5} %  
  \begin{minipage}[t]{0.60\textwidth}
    \vspace{0pt}%
    \textbf{Reg. Nr:} \regnrlocal \hfill \textbf{DOB:} \doblocal\\
    \textbf{Breeder:} \breederlocal\\
    \textbf{Sire:} \sirelocal\\
    \textbf{Dam:} \damlocal
  \end{minipage}%
}

% ---------- \DogCaption definition ----------
% \DogCaption{Name}{Handler}{Breeder}{DOB}{RegNr}{Sire}{Dam}{PhotoPath}
% Displays dog photo on the left with information as a caption on the right
\NewDocumentCommand{\DogCaption}{ m m m m m m m m }{%
  \def\dogname{#1} %
  \def\handler{#2} %
  \def\breeder{#3} %
  \def\dob{#4} %
  \def\regnr{#5} %
  \def\sire{#6} %
  \def\dam{#7} %
  \def\photopath{#8} %
  \noindent
  % Grey bar with dog's name and handler's name
  \colorbox{darkgray}{\parbox{\dimexpr\textwidth-2\fboxsep}{%
    \color{white}\textbf{\dogname} \hfill \textbf{Handler:} \handler}}\\[0.1em]
  % Picture and information side by side below the bar
  \noindent\begin{minipage}[t]{0.35\textwidth}
    \vspace{0pt}%
    \includegraphics[width=\textwidth,height=4cm,keepaspectratio]{\photopath}
  \end{minipage}\hfill\DogDataMinipage{\breeder}{\dob}{\regnr}{\sire}{\dam}
  
  \vspace{0.5em}
}

% ---------- \DogCaptionReverse definition ----------
% \DogCaptionReverse{Name}{Handler}{Breeder}{DOB}{RegNr}{Sire}{Dam}{PhotoPath}
% Displays dog photo on the RIGHT with information as a caption on the LEFT (mirrored)
\NewDocumentCommand{\DogCaptionReverse}{ m m m m m m m m }{%
  \def\dognamer{#1} %
  \def\handlerr{#2} %
  \def\breederr{#3} %
  \def\dobr{#4} %
  \def\regnrr{#5} %
  \def\sirer{#6} %
  \def\damr{#7} %
  \def\photopathr{#8} %
  \noindent
  % Grey bar with dog's name and handler's name
  \colorbox{darkgray}{\parbox{\dimexpr\textwidth-2\fboxsep}{%
    \color{white}\textbf{\dognamer} \hfill \textbf{Handler:} \handlerr}}\\[0.1em]
  % Information on the LEFT and picture on the RIGHT (reversed)
  \noindent\DogDataMinipage{\breederr}{\dobr}{\regnrr}{\sirer}{\damr}\hfill\begin{minipage}[t]{0.35\textwidth}
    \vspace{0pt}%
    \includegraphics[width=\textwidth,height=4cm,keepaspectratio]{\photopathr}
  \end{minipage}
  
  \vspace{0.5em}
}

% ---------- \DogCaptionAuto definition ----------
% \DogCaptionAuto{Name}{Handler}{Breeder}{DOB}{RegNr}{Sire}{Dam}{PhotoPath}
% Automatically uses \DogCaption on even pages and \DogCaptionReverse on odd pages
\NewDocumentCommand{\DogCaptionAuto}{ m m m m m m m m }{%
  \ifodd\value{page}%
    \DogCaptionReverse{#1}{#2}{#3}{#4}{#5}{#6}{#7}{#8}%
  \else%
    \DogCaption{#1}{#2}{#3}{#4}{#5}{#6}{#7}{#8}%
  \fi%
}

% ---------- Header/Footer Configuration ----------
\pagestyle{fancy}
\fancyhf{} % Clear all header and footer fields
\fancyhead[L]{\leftmark} % Chapter name on the left
\fancyhead[R]{\thepage} % Page number on the right
\renewcommand{\headrulewidth}{0.4pt} % Line below header
\renewcommand{\footrulewidth}{0pt} % No line in footer

% For chapter pages (plain style)
\fancypagestyle{plain}{%
  \fancyhf{}
  \fancyhead[L]{\leftmark}
  \fancyhead[R]{\thepage}
  \renewcommand{\headrulewidth}{0.4pt}
  \renewcommand{\footrulewidth}{0pt}
}

\begin{document}

\frontmatter
\title{Continental Sheepdog Championship 2026 \\ en Belgique}
\author{Ihr Name}
\date{\today}
\maketitle

\mainmatter
\input{welcome.tex}

\input{judges.tex}

\chapter{Rules for the Final}

\chapter{Einf√ºhrung}

\input{entries.tex}

\section{Alternative Layout with Caption}

Here's an example using the \verb|\DogCaption| macro that displays the photo with information as a caption next to it:
\newpage
\DogCaption
  {Arlo}
  {Folke Noertemann}
  {Jean-Luc Censier}
  {2024-05-21}
  {12345}
  {Noi}
  {Penny}
  {PicturesOrig/FolkeNoertemann_Arlo.jpg}

\DogCaption
  {Moss}
  {Annie Vanderlinck}
  {D. T. Edwards}
  {2009-02-17}
  {123435}
  {Mirk}
  {Llangwn Lass}
  {PicturesOrig/AnnieVanderlinck_Moss.jpg}

\DogCaption
  {Tweed}
  {Annie Vanderlinck}
  {S. M. Lejuez}
  {2018-12-23}
  {BIJL. G-2-3144869}
  {Kemi Rhys}
  {Eryn}
  {PicturesOrig/AnnieVanderlinck_Tweed.jpg}






\section{Automatic Layout Switching}

Here are examples using \verb|\DogCaptionAuto| which automatically alternates between left and right layouts based on page number:
\newpage
\DogCaptionAuto
  {Tweed}
  {Annie Vanderlinck}
  {S. M. Lejuez}
  {2018-12-23}
  {BIJL. G-2-3144869}
  {Kemi Rhys}
  {Eryn}
  {PicturesOrig/AnnieVanderlinck_Tweed.jpg}

\DogCaptionAuto
  {Kinloch Luke}
  {Folke Noertemann}
  {Angie Driscoll}
  {2016-03-21}
  {2345676}
  {Kinloch Levi}
  {Aaron Jan}
  {PicturesOrig/FolkeNoertemann_Luke.jpg}

\DogCaptionAuto
  {Kinloch Heath}
  {Folke Noertemann}
  {Angie Driscoll}
  {2018-08-10}
  {33333}
  {no idea}
  {Kinloch Penny}
  {PicturesOrig/FolkeNoertemann_Heath.jpg}


\end{document}
